<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 9 - Quiz & Practice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: white;
            min-height: 100vh;
            padding: 20px;
        }

        /* Mobile First - Base styles for smallest screens */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #ffffff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        /* Tablet and smaller */
        @media (max-width: 768px) {
            .container {
                padding: 25px;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            }
        }

        /* Mobile */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                border-radius: 6px;
            }
        }

        /* Logo Section */
        .logo-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .logo-container {
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .logo-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        @media (max-width: 768px) {
            .logo-container {
                width: 100px;
                height: 100px;
            }
        }

        @media (max-width: 480px) {
            .logo-container {
                width: 80px;
                height: 80px;
            }
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .books-icon {
            font-size: 2em;
        }

        @media (max-width: 480px) {
            .books-icon {
                font-size: 1.5em;
            }
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.2em;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.4em;
            }
        }

        .accordion-item {
            background: #ffffff;
            border-radius: 6px;
            margin-bottom: 20px;
            border: 1px solid #d1d5db;
            overflow: hidden;
        }

        .accordion-header {
            padding: 18px 24px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s;
            border-bottom: 2px solid #667eea;
        }

        @media (max-width: 768px) {
            .accordion-header {
                padding: 15px 18px;
                font-size: 1em;
            }
        }

        @media (max-width: 480px) {
            .accordion-header {
                padding: 12px 15px;
                font-size: 0.9em;
            }
        }

        .accordion-header:hover {
            background: linear-gradient(90deg, #5568d3 0%, #6a3a8f 100%);
            transform: translateX(5px);
        }

        .accordion-arrow {
            font-size: 1.2em;
            transition: transform 0.3s;
        }

        .accordion-arrow.active {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 25px;
        }

        .accordion-content.active {
            max-height: 10000px;
            padding: 25px;
        }

        .quiz-question {
            background: #f8f9fa;
            padding: 24px;
            border-radius: 6px;
            margin-bottom: 24px;
            border-left: 4px solid #667eea;
        }

        .question-text {
            font-size: 1.05em;
            margin-bottom: 16px;
            font-weight: 600;
            color: #2c3e50;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 14px 18px;
            background: white;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            color: #374151;
            font-size: 0.95em;
            font-weight: 500;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        @media (max-width: 480px) {
            .option {
                padding: 12px 14px;
                font-size: 0.88em;
            }
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateX(4px);
        }

        .option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .option.correct {
            border-color: #10b981;
            background: #10b981;
            color: white;
        }

        .option.wrong {
            border-color: #ef4444;
            background: #ef4444;
            color: white;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        @media (max-width: 480px) {
            .button-group {
                gap: 8px;
                margin-top: 16px;
            }
        }

        .submit-btn, .random-btn, .restart-btn {
            padding: 14px 32px;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            flex: 1;
            min-width: 140px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        @media (max-width: 768px) {
            .submit-btn, .random-btn, .restart-btn {
                min-width: 120px;
                padding: 12px 24px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 480px) {
            .submit-btn, .random-btn, .restart-btn {
                min-width: 100%;
                padding: 12px 20px;
                font-size: 0.85em;
                letter-spacing: 0.3px;
            }
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .submit-btn:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a3a8f 100%);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }

        .submit-btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
        }

        .random-btn {
            background: #f59e0b;
            color: white;
        }

        .random-btn:hover {
            background: #d97706;
            box-shadow: 0 5px 20px rgba(245, 158, 11, 0.4);
            transform: translateY(-2px);
        }

        .restart-btn {
            background: #ef4444;
            color: white;
        }

        .restart-btn:hover {
            background: #dc2626;
            box-shadow: 0 5px 20px rgba(239, 68, 68, 0.4);
            transform: translateY(-2px);
        }

        .score-display {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 20px;
            border-radius: 6px;
            text-align: center;
            font-size: 1.2em;
            margin-top: 20px;
            display: none;
            font-weight: 600;
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
        }

        .lecture-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            font-size: 1em;
            background: white;
            margin-bottom: 20px;
            color: #374151;
            font-weight: 500;
            transition: all 0.3s;
        }

        .lecture-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .back-btn {
            background: #e5e7eb;
            color: #374151;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 24px;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: #d1d5db;
            transform: translateX(-4px);
        }

        .select-label {
            font-weight: 600;
            color: #2c3e50;
            display: block;
            margin-bottom: 10px;
        }

        .pdf-viewer {
            width: 100%;
            height: 600px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
        }

        @media (max-width: 768px) {
            .pdf-viewer {
                height: 500px;
            }
        }

        @media (max-width: 480px) {
            .pdf-viewer {
                height: 400px;
            }
        }

        .pdf-fullscreen-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.3s;
            margin-bottom: 15px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .pdf-fullscreen-btn:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a3a8f 100%);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }
    </style>
    <link rel="icon" href="logo.png" type="image/png">
</head>
<body>
    <div class="container">
        <!-- Logo and Header Section -->
        <div class="logo-header">
            <div class="logo-container">
                <img src="logo.png" alt="EXTRA - Learn Deeply, Grow more, Excel!">
            </div>
            <div class="header-content">
                <span class="books-icon">📚</span>
                <h1>Week 9 - Learning Materials</h1>
            </div>
        </div>

        <!-- Extra Questions Section -->
        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>💡 Extra Questions</span>
                <span class="accordion-arrow">▼</span>
            </div>
            <div class="accordion-content">
                <div id="extraQuiz"></div>
                <div class="button-group">
                    <button class="submit-btn" onclick="submitQuiz('extra')">Submit Quiz</button>
                    <button class="random-btn" onclick="randomizeQuiz('extra')">Shuffle Order</button>
                    <button class="restart-btn" onclick="restartQuiz('extra')">Restart</button>
                </div>
                <div id="extraScore" class="score-display"></div>
            </div>
        </div>

        <!-- AI Generate Questions Section -->
        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>🤖 AI Generate Questions</span>
                <span class="accordion-arrow">▼</span>
            </div>
            <div class="accordion-content">
                <label class="select-label">Select Lecture:</label>
                <select id="lectureSelect" class="lecture-select" onchange="loadLectureQuiz()">
                    <option value="">-- Choose a Lecture --</option>
                    <option value="lecture1">Lecture 25 - Population and Population Growth - I</option>
                    <option value="lecture2">Lecture 26 - Population and Population Growth - II</option>
                    <option value="lecture3">Lecture 27 - Human Development and Sustainable Development</option>
                </select>
                <div id="aiQuiz"></div>
                <div class="button-group" style="display: none;" id="aiButtonGroup">
                    <button class="submit-btn" onclick="submitQuiz('ai')">Submit Quiz</button>
                    <button class="random-btn" onclick="randomizeQuiz('ai')">Shuffle Order</button>
                    <button class="restart-btn" onclick="restartQuiz('ai')">Restart</button>
                </div>
                <div id="aiScore" class="score-display"></div>
            </div>
        </div>

        <!-- Week  Assignment Section -->
        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>📝 Week 9 - Assignment Quiz</span>
                <span class="accordion-arrow">▼</span>
            </div>
            <div class="accordion-content">
                <div id="weekQuiz"></div>
                <div class="button-group">
                    <button class="submit-btn" onclick="submitQuiz('week')">Submit Quiz</button>
                    <button class="random-btn" onclick="randomizeQuiz('week')">Shuffle Order</button>
                    <button class="restart-btn" onclick="restartQuiz('week')">Restart</button>
                </div>
                <div id="weekScore" class="score-display"></div>
            </div>
        </div>

        <!-- PDF Solution Section -->
        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>📄 PDF (Solution)</span>
                <span class="accordion-arrow">▼</span>
            </div>
            <div class="accordion-content">
                <button class="pdf-fullscreen-btn" onclick="openPDFFullscreen()">
                    📄 Open PDF in Full Page
                </button>
                <iframe id="pdfViewer" class="pdf-viewer" src="week9.pdf"></iframe>
                <p style="margin-top: 15px; color: #6b7280; font-style: italic;">
                    Week 9 Solution 
                </p>
            </div>
        </div>
    </div>

    <script>
        // Extra Questions Data - Empty for now
        const extraQuizData = [
            
  {
    question: "The movement of individuals away from their place of birth or hatching or seed production into a new habitat or area to survive and reproduce is called:",
    options: ["translocation", "migration", "dispersal", "drifting"],
    correctAnswer: "dispersal"
  },
  {
    question: "The movement of lions across the Gir landscape is an example of:",
    options: ["diffusion", "secular dispersal", "jump dispersal", "drifting"],
    correctAnswer: "jump dispersal"
  },
  {
    question: "[translate:Geographical] discipline of Climatology is most closely related to:",
    options: ["Geology", "Meteorology", "Hydrology", "Pedology"],
    correctAnswer: "Meteorology"
  },
  {
    question: "The systematic approach to Geography was developed by:",
    options: ["Alexander von Humboldt", "Karl Ritter", "Rene Descartes", "Eratosthenes"],
    correctAnswer: "Karl Ritter"
  },
  {
    question: "Which of these is true?",
    options: ["Wildlife conservation is the same as wildlife preservation", "Wildlife conservation is the same as wildlife ecology", "Wildlife conservation is the same as environmentalism", "none of these"],
    correctAnswer: "none of these"
  },
  {
    question: "In the word root for conservation, servare stands for:",
    options: ["together", "to keep", "house", "manage"],
    correctAnswer: "to keep"
  },
  {
    question: "“allowing some places and some creatures to exist without significant human interference” is the definition of:",
    options: ["conservation", "preservation", "environmentalism", "ecology"],
    correctAnswer: "preservation"
  },
  {
    question: "I tried growing vegetables under my teak plantation, but the vegetable plants died out. I should be concerned about:",
    options: ["autophagy", "allelophagy", "autopathy", "allelopathy"],
    correctAnswer: "allelopathy"
  },
  {
    question: "The regular, seasonal movement of animals, often along fixed routes is called:",
    options: ["translocation", "migration", "dispersal", "drifting"],
    correctAnswer: "migration"
  },
  {
    question: "In the word root for conservation, con stands for:",
    options: ["together", "to keep", "house", "manage"],
    correctAnswer: "together"
  }
];


// Week 9 Assignment Data
        const weekQuizData = [
            {
                question: "According to Malthusian model,",
                options: [
                    "Population grows in geometric progression, food supply increases in arithmetic progression",
                    "Population grows in geometric progression, food supply increases in geometric progression",
                    "Population grows in arithmetic progression, food supply increases in arithmetic progression",
                    "Population grows in arithmetic progression, food supply increases in geometric progression"
                ],
                correctAnswer: "Population grows in geometric progression, food supply increases in arithmetic progression"
            },
            {
                question: "Which of these is commonly observed during humanising of nature?",
                options: [
                    "environmental determinism",
                    "possibilism",
                    "neodeterminism",
                    "stop and go determinism"
                ],
                correctAnswer: "possibilism"
            },
            {
                question: "Which of these is a pillar of sustainability",
                options: [
                    "social sustainability",
                    "industrial sustainability",
                    "agricultural sustainability",
                    "trans-boundary sustainability"
                ],
                correctAnswer: "social sustainability"
            },
            {
                question: "Which of these is commonly observed in primitive societies?",
                options: [
                    "environmental determinism",
                    "possibilism",
                    "neodeterminism",
                    "stop and go determinism"
                ],
                correctAnswer: "environmental determinism"
            },
            {
                question: "The demographic transition sees a society move from",
                options: [
                    "high birth rate, low death rate to low birth rate, high death rate",
                    "low birth rate, high death rate to low birth rate, low death rate",
                    "high birth rate, high death rate to low birth rate, low death rate",
                    "high birth rate, high death rate to low birth rate, high death rate"
                ],
                correctAnswer: "high birth rate, high death rate to low birth rate, low death rate"
            },
            {
                question: "The logistic growth equation curve is",
                options: [
                    "I-shaped",
                    "J-shaped",
                    "S-shaped",
                    "U-shaped"
                ],
                correctAnswer: "S-shaped"
            },
            {
                question: "Which of these is a preventive check according to Malthus?",
                options: [
                    "foresight",
                    "vice",
                    "misery",
                    "flood"
                ],
                correctAnswer: "foresight"
            },
            {
                question: "Which of these is not a pillar of sustainability?",
                options: [
                    "environmental sustainability",
                    "economic sustainability",
                    "social sustainability",
                    "trans-boundary sustainability"
                ],
                correctAnswer: "trans-boundary sustainability"
            },
            {
                question: "The book 'An Essay on the Principle of Population' was written by",
                options: [
                    "Darwin",
                    "Malthus",
                    "Verhulst",
                    "Tilman"
                ],
                correctAnswer: "Malthus"
            },
            {
                question: "Which of these is the equation of 'logistic growth'?",
                options: [
                    "dN/dt = rN",
                    "dN/dt = rN(1-N/K)",
                    "dN/dt = rN(1-K/N)",
                    "dN/dt = rN(K-N)"
                ],
                correctAnswer: "dN/dt = rN(1-N/K)"
            }
        ];


// Lecture 25: Population and Population Growth - I
const lecture1Data= [
  { question: "Human Geography is the discipline of Geography that studies the relationship between the physical and the human worlds, including the spatial distribution of:", options: ["Soil types and rock formations.", "Climate zones and water bodies.", "Human phenomena (e.g., populations, settlements).", "Plate tectonics and earthquakes."], correctAnswer: "Human phenomena (e.g., populations, settlements)." },
  { question: "The crude birth rate (CBR) is calculated as the number of live births per year per:", options: ["100 people.", "1,000 people.", "10,000 people.", "100,000 people."], correctAnswer: "1,000 people." },
  { question: "The sex ratio is an important population characteristic that is defined as the number of females per:", options: ["1,000 males.", "100 people.", "10,000 people.", "1,000 children."], correctAnswer: "1,000 males." },
  { question: "The concept of Environmental Determinism, which is typically observed in primitive societies, holds that the human way of life is primarily controlled by:", options: ["Technology and innovation.", "Economic policies.", "The physical environment.", "Social structures and laws."], correctAnswer: "The physical environment." },
  { question: "The median age of a population is the age at which half of the population is:", options: ["Under the age of 18.", "Above the age of 60.", "Older and the other half is younger.", "In the working age group."], correctAnswer: "Older and the other half is younger." },
  { question: "In a population pyramid, a narrow top indicates:", options: ["A high birth rate.", "A high growth rate.", "A low life expectancy.", "A high median age."], correctAnswer: "A low life expectancy." },
  { question: "A population with a high birth rate, a high death rate, and a low median age would typically have a population pyramid shape that is:", options: ["Rectangular or bell-shaped.", "Broad-based (pyramidal).", "Narrow-based.", "Urn-shaped."], correctAnswer: "Broad-based (pyramidal)." },
  { question: "The term 'demography' is the statistical study of populations, including which of the following processes:", options: ["Economic growth and trade.", "Resource depletion and conservation.", "Births, deaths, aging, and migration.", "Climate change and atmospheric pollution."], correctAnswer: "Births, deaths, aging, and migration." },
  { question: "Possibilism, often observed in advanced or humanized nature, suggests that the environment:", options: ["Completely dictates human activities.", "Has no influence on human life.", "Sets the limits, but humans can choose or modify within those limits.", "Is always a source of misery."], correctAnswer: "Sets the limits, but humans can choose or modify within those limits." },
  { question: "Which factor acts as a 'push factor' in migration, causing people to leave their original place of residence?", options: ["Better job opportunities elsewhere.", "Higher wages and amenities.", "Unemployment and poverty.", "Stable political climate."], correctAnswer: "Unemployment and poverty." },
  { question: "Neodeterminism (or Stop and Go Determinism), proposed by Griffith Taylor, suggests that the environment is like a:", options: ["Wide, open path.", "Traffic signal (where humans can accelerate but cannot change the lights).", "Limitless resource pool.", "Predictable clock mechanism."], correctAnswer: "Traffic signal (where humans can accelerate but cannot change the lights)." },
  { question: "When population growth rate is plotted against time in the Logistic Growth model, the growth is fastest at what point on the S-shaped curve?", options: ["At the beginning, when the population is small.", "At the end, as it approaches the carrying capacity.", "At the inflection point (K/2).", "When the birth rate equals the death rate."], correctAnswer: "At the inflection point (K/2)." },
  { question: "According to the Malthusian theory, if human population growth is not kept in check, it will ultimately be brought back to the level of food supply by Positive Checks like:", options: ["Moral restraint and foresight.", "Reduced birth rates.", "War, famine, and disease (misery).", "Increased agricultural technology."], correctAnswer: "War, famine, and disease (misery)." },
  { question: "Migration contributes to a better balance between people and resources by:", options: ["Increasing the death rate in both source and destination areas.", "Decreasing the demand for all resources.", "Allowing people to move from resource-scarce areas to resource-rich areas.", "Ensuring a geometric progression of food supply."], correctAnswer: "Allowing people to move from resource-scarce areas to resource-rich areas." },
  { question: "What is the Carrying Capacity (K) in the context of population growth models?", options: ["The maximum initial growth rate.", "The point where the population grows exponentially.", "The maximum population size that a specific environment can sustainably support.", "The initial population size at time zero."], correctAnswer: "The maximum population size that a specific environment can sustainably support." }
];

// Lecture 26: Population and Population Growth - II
const lecture2Data = [
  { question: "In the J-shaped growth curve of the Exponential (Geometric) Growth Model, the population grows:", options: ["Arithmetically.", "By a constant percentage or rate.", "Up to a carrying capacity limit.", "By increasing in the last phases and decreasing in the middle phases."], correctAnswer: "By a constant percentage or rate." },
  { question: "The maximum rate at which a population can grow under ideal conditions (with unlimited resources) is known as the:", options: ["Carrying capacity (K).", "Biotic potential (r_{max}).", "Environmental resistance.", "Lag phase."], correctAnswer: "Biotic potential (r_{max})." },
  { question: "The term 'Environmental Resistance' refers to the factors that:", options: ["Help the population reach its biotic potential.", "Increase the birth rate.", "Limit the growth of a population in an S-shaped curve.", "Are only relevant in the Malthusian model."], correctAnswer: "Limit the growth of a population in an S-shaped curve." },
  { question: "In the Demographic Transition Model, the phase where death rates decline rapidly due to improved health and sanitation, while birth rates remain high, leading to rapid population growth, is called:", options: ["Stage I (High Stationary).", "Stage II (Early Expanding).", "Stage III (Late Expanding).", "Stage IV (Low Stationary)."], correctAnswer: "Stage II (Early Expanding)." },
  { question: "Which stage of the Demographic Transition Model is characterized by both high birth rates and high death rates, resulting in a very low or near-zero growth rate?", options: ["Stage I (High Stationary).", "Stage II (Early Expanding).", "Stage III (Late Expanding).", "Stage IV (Low Stationary)."], correctAnswer: "Stage I (High Stationary)." },
  { question: "In the Demographic Transition Model, the final stage (Stage IV or V) sees a society reach a state where:", options: ["Population grows exponentially.", "The growth rate becomes highly negative due to famine.", "Both birth and death rates are low, leading to a stable or even declining population.", "The population has exhausted all resources."], correctAnswer: "Both birth and death rates are low, leading to a stable or even declining population." },
  { question: "According to Malthus, a Preventive Check on population growth primarily involves human agency and foresight, such as:", options: ["Famine.", "War.", "Disease.", "Moral restraint or delaying marriage."], correctAnswer: "Moral restraint or delaying marriage." },
  { question: "In the Logistic Growth Model, what causes the growth curve to level off and become S-shaped, rather than continuing to grow exponentially?", options: ["High biotic potential.", "Low initial population.", "The effect of Environmental Resistance (limiting resources).", "A constant, low death rate."], correctAnswer: "The effect of Environmental Resistance (limiting resources)." },
  { question: "Which factor is a common cause for the birth rate to fall during the later stages (III and IV) of the Demographic Transition Model?", options: ["Increase in famine and disease.", "Increased women's education, use of contraception, and urbanization.", "Lack of male children.", "Low GDP per capita."], correctAnswer: "Increased women's education, use of contraception, and urbanization." },
  { question: "If the population of a country is plotted over time and shows an initial slow growth, followed by a sharp increase, and then a stabilization or decline, this pattern most closely fits the concept of:", options: ["Exponential Growth.", "Demographic Transition.", "Malthusian Positive Checks.", "Arithmetic Progression."], correctAnswer: "Demographic Transition." },
  { question: "According to Malthus, food supply increases at a rate known as Arithmetic Progression, which means it increases:", options: ["By multiplying a constant factor (e.g., 2, 4, 8...).", "By a constant percentage each year.", "By adding a constant amount each period (e.g., 2, 4, 6...).", "Only in response to population growth."], correctAnswer: "By adding a constant amount each period (e.g., 2, 4, 6...)." },
  { question: "In the Logistic Growth Equation (dN/dt = rN (1 - N/K)), the term (1 - N/K) represents:", options: ["The maximum growth rate (r_max).", "The net increase in population.", "The reduction in growth rate due to limiting resources.", "The initial population size."], correctAnswer: "The reduction in growth rate due to limiting resources." },
  { question: "In a society undergoing Demographic Transition, the gap between the birth rate and the death rate in Stage II (Early Expanding) is the primary reason for:", options: ["Economic depression.", "The population explosion.", "A shift from possibilism to determinism.", "Increased foresight checks."], correctAnswer: "The population explosion." },
  { question: "Thomas Robert Malthus was an English cleric and scholar whose 1798 book, 'An Essay on the Principle of Population,' is famous for predicting:", options: ["The eventual exponential growth of food supply.", "The shift to Neo-determinism.", "A crisis where population growth would outstrip food supply.", "The stability of the global carrying capacity."], correctAnswer: "A crisis where population growth would outstrip food supply." },
  { question: "The concept of overshooting the carrying capacity is most likely to result in which immediate consequence?", options: ["Exponential growth phase.", "Long-term population stability.", "A die-off or crash in the population size.", "A shift to preventive checks."], correctAnswer: "A die-off or crash in the population size." }
];

// Lecture 27: Human Development and Sustainable Development
const lecture3Data = [
  { question: "Sustainable development is defined as development that meets the needs of the present without compromising the ability of future generations to:", options: ["Have the same GDP per capita.", "Meet their own needs.", "Adopt the same political system.", "Travel to other countries."], correctAnswer: "Meet their own needs." },
  { question: "The concept of sustainable development is often represented by three pillars or dimensions: Economic, Environmental, and:", options: ["Industrial sustainability.", "Agricultural sustainability.", "Technological sustainability.", "Social sustainability."], correctAnswer: "Social sustainability." },
  { question: "The Human Development Index (HDI) measures a country's development by combining statistics related to life expectancy, education, and:", options: ["Total population size.", "Per capita income (standard of living).", "CO2 emissions.", "Land area."], correctAnswer: "Per capita income (standard of living)." },
  { question: "The concept of Environmental Sustainability includes ensuring that the resources we use today are:", options: ["Replaced by technological innovation.", "Only those that contribute to a high GDP.", "Not depleted beyond the point of regeneration or causing excessive pollution.", "Fully utilized for the current generation's benefit."], correctAnswer: "Not depleted beyond the point of regeneration or causing excessive pollution." },
  { question: "The goal of Economic Sustainability is to maintain a level of economic production that can be supported indefinitely by:", options: ["Increasing the national debt.", "Efficiently using resources and managing waste.", "Focusing exclusively on non-renewable resources.", "Relying entirely on international aid."], correctAnswer: "Efficiently using resources and managing waste." },
  { question: "Which concept of sustainability focuses on the equitable distribution of resources and opportunities, ensuring the well-being of all people within the current and future generations?", options: ["Environmental sustainability.", "Economic sustainability.", "Social sustainability.", "Industrial sustainability."], correctAnswer: "Social sustainability." },
  { question: "A decision to install air conditioners everywhere, which increases local comfort but leads to much higher electricity consumption and CO2 emissions, could be classified as a:", options: ["Resilience strategy.", "Resistance strategy.", "Maladaptation (inadvertently increasing vulnerability).", "Successful response strategy."], correctAnswer: "Maladaptation (inadvertently increasing vulnerability)." },
  { question: "In the context of climate change, the ability of a system to 'bounce back' to its previous state after a disturbance (like a cyclone) is known as:", options: ["Resistance.", "Response.", "Resilience.", "Maladaptation."], correctAnswer: "Resilience." },
  { question: "The development of Clean Technologies often involves two concurrent themes: using less resources (efficiency) and:", options: ["Increasing the Gross Domestic Product (GDP).", "Reducing negative impacts (e.g., pollution).", "Relying entirely on fossil fuels.", "Eliminating the need for human labor."], correctAnswer: "Reducing negative impacts (e.g., pollution)." },
  { question: "The concept of Life Cycle Analysis in clean technologies involves the careful consideration of the environmental impacts of a product during:", options: ["Only its manufacturing phase.", "Only its disposal phase.", "Its whole lifecycle, from raw material to disposal.", "Only its consumption phase."], correctAnswer: "Its whole lifecycle, from raw material to disposal." },
  { question: "Energy efficient buildings contribute to sustainability primarily by:", options: ["Using only natural materials for construction.", "Reducing the need for external heating and cooling through good insulation and design.", "Placing all buildings below ground level.", "Utilizing only wind energy."], correctAnswer: "Reducing the need for external heating and cooling through good insulation and design." },
  { question: "The ability of a system to withstand a climate disturbance without changing its fundamental structure or composition is referred to as:", options: ["Resistance.", "Resilience.", "Response.", "Maladaptation."], correctAnswer: "Resistance." },
  { question: "The strategy of moving a species to a newer geographical range where it can better cope with changing climate is an example of a Response or Adaptation Option, specifically for species that lack:", options: ["High biotic potential.", "High fecundity.", "Sufficient mobility (e.g., trees whose seeds can't move fast enough).", "A social structure."], correctAnswer: "Sufficient mobility (e.g., trees whose seeds can't move fast enough)." },
  { question: "The term 'sustainable consumption' implies a focus on making choices that:", options: ["Are the most expensive available.", "Reduce the overall demand for resources and minimize waste.", "Only benefit the current generation.", "Prioritize quantity over quality."], correctAnswer: "Reduce the overall demand for resources and minimize waste." },
  { question: "One strategy for clean illumination (energy efficient lighting) contributes to reducing both energy consumption and:", options: ["Water scarcity.", "Light pollution.", "Noise pollution.", "Soil degradation."], correctAnswer: "Light pollution." }
];

        let userAnswers = {
            extra: {},
            week: {},
            ai: {}
        };

        let currentLectureData = [];
        let currentQuestionOrder = {
            extra: [],
            week: [],
            ai: []
        };

        // Shuffle array function
        function shuffleArray(array) {
            let shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Initialize quiz - FIXED VERSION
        function initQuiz(quizData, containerId, quizType) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            currentQuestionOrder[quizType] = Array.from({ length: quizData.length }, (_, i) => i);

            quizData.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                questionDiv.setAttribute('data-index', index);
                
                let optionsHTML = '';
                q.options.forEach((option) => {
                    // Escape quotes in the option text to prevent breaking the onclick
                    const escapedOption = option.replace(/'/g, "\\'").replace(/"/g, '&quot;');
                    optionsHTML += `
                        <div class="option" onclick="selectOption(this, '${quizType}', ${index}, '${escapedOption}')">
                            ${option}
                        </div>
                    `;
                });

                questionDiv.innerHTML = `
                    <div class="question-text">${index + 1}. ${q.question}</div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                `;

                container.appendChild(questionDiv);
            });
        }

        // Select option - FIXED VERSION
        function selectOption(element, quizType, questionIndex, answer) {
            // Check if quiz is already submitted
            const scoreDiv = document.getElementById(quizType + 'Score');
            if (scoreDiv.style.display === 'block') {
                return; // Don't allow selection after submission
            }

            const parentOptions = element.parentElement;
            const allOptions = parentOptions.querySelectorAll('.option');
            
            // Remove selected class from all options
            allOptions.forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            element.classList.add('selected');

            // Store the answer
            userAnswers[quizType][questionIndex] = answer;
        }

        // Submit quiz
        function submitQuiz(quizType) {
            const quizData = quizType === 'extra' ? extraQuizData : (quizType === 'ai' ? currentLectureData : weekQuizData);
            const scoreDiv = document.getElementById(quizType + 'Score');
            
            let correct = 0;
            let total = quizData.length;

            quizData.forEach((q, index) => {
                const userAnswer = userAnswers[quizType][index];
                const questionDiv = document.querySelectorAll(`#${quizType}Quiz .quiz-question`)[index];
                const options = questionDiv.querySelectorAll('.option');

                options.forEach(opt => {
                    opt.style.pointerEvents = 'none';
                    
                    if (opt.textContent.trim() === q.correctAnswer) {
                        opt.classList.add('correct');
                    }
                    
                    if (opt.textContent.trim() === userAnswer && userAnswer !== q.correctAnswer) {
                        opt.classList.add('wrong');
                    }
                });

                if (userAnswer === q.correctAnswer) {
                    correct++;
                }
            });

            const percentage = ((correct / total) * 100).toFixed(1);
            scoreDiv.innerHTML = `
                <strong>Your Score: ${correct} / ${total}</strong><br>
                Percentage: ${percentage}%
            `;
            scoreDiv.style.display = 'block';
        }

        // Randomize quiz order - FIXED VERSION
        function randomizeQuiz(quizType) {
            const quizData = quizType === 'extra' ? extraQuizData : (quizType === 'ai' ? currentLectureData : weekQuizData);
            const container = document.getElementById(quizType + 'Quiz');
            
            // Shuffle the question order
            const shuffledOrder = shuffleArray(Array.from({ length: quizData.length }, (_, i) => i));
            currentQuestionOrder[quizType] = shuffledOrder;

            // Re-render questions in shuffled order
            container.innerHTML = '';
            shuffledOrder.forEach((originalIndex, displayIndex) => {
                const q = quizData[originalIndex];
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                questionDiv.setAttribute('data-original-index', originalIndex);
                
                let optionsHTML = '';
                q.options.forEach((option) => {
                    // Escape quotes properly
                    const escapedOption = option.replace(/'/g, "\\'").replace(/"/g, '&quot;');
                    optionsHTML += `
                        <div class="option" onclick="selectOption(this, '${quizType}', ${originalIndex}, '${escapedOption}')">
                            ${option}
                        </div>
                    `;
                });

                questionDiv.innerHTML = `
                    <div class="question-text">${displayIndex + 1}. ${q.question}</div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                `;

                container.appendChild(questionDiv);

                // Restore selected answer if exists
                if (userAnswers[quizType][originalIndex]) {
                    const options = questionDiv.querySelectorAll('.option');
                    options.forEach(opt => {
                        if (opt.textContent.trim() === userAnswers[quizType][originalIndex]) {
                            opt.classList.add('selected');
                        }
                    });
                }
            });

            // Hide score display
            document.getElementById(quizType + 'Score').style.display = 'none';
        }

        // Restart quiz
        function restartQuiz(quizType) {
            const quizData = quizType === 'extra' ? extraQuizData : (quizType === 'ai' ? currentLectureData : weekQuizData);
            
            userAnswers[quizType] = {};
            document.getElementById(quizType + 'Score').style.display = 'none';
            initQuiz(quizData, quizType + 'Quiz', quizType);
        }

        // Toggle accordion
        function toggleAccordion(header) {
            const content = header.nextElementSibling;
            const arrow = header.querySelector('.accordion-arrow');
            
            document.querySelectorAll('.accordion-content').forEach(c => {
                if (c !== content) {
                    c.classList.remove('active');
                }
            });
            
            document.querySelectorAll('.accordion-arrow').forEach(a => {
                if (a !== arrow) {
                    a.classList.remove('active');
                }
            });

            content.classList.toggle('active');
            arrow.classList.toggle('active');
        }

        // Load lecture quiz
        function loadLectureQuiz() {
            const lectureSelect = document.getElementById('lectureSelect');
            const selectedLecture = lectureSelect.value;
            
            if (!selectedLecture) {
                document.getElementById('aiQuiz').innerHTML = '';
                document.getElementById('aiButtonGroup').style.display = 'none';
                document.getElementById('aiScore').style.display = 'none';
                return;
            }

            if (selectedLecture === 'lecture1') {
                currentLectureData = lecture1Data;
            } else if (selectedLecture === 'lecture2') {
                currentLectureData = lecture2Data;
            } else if (selectedLecture === 'lecture3') {
                currentLectureData = lecture3Data;
            }

            userAnswers.ai = {};
            document.getElementById('aiScore').style.display = 'none';
            initQuiz(currentLectureData, 'aiQuiz', 'ai');
            document.getElementById('aiButtonGroup').style.display = 'flex';
        }

        // Open PDF in fullscreen
        function openPDFFullscreen() {
            const pdfViewer = document.getElementById('pdfViewer');
            const pdfSrc = pdfViewer.src;
            
            // Open PDF in new window/tab at full size
            window.open(pdfSrc, '_blank', 'width=' + screen.width + ',height=' + screen.height);
        }

        // Initialize quizzes on page load
        initQuiz(extraQuizData, 'extraQuiz', 'extra');
        initQuiz(weekQuizData, 'weekQuiz', 'week');
    </script>
</body>
</html>